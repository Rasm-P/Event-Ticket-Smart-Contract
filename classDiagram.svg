<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 5.0.0 (20220707.1540)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="2666pt" height="1701pt"
 viewBox="0.00 0.00 2665.90 1701.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1697.4)">
<title>UmlClassDiagram</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1697.4 2661.9,-1697.4 2661.9,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="black" points="56.22,-1103.1 56.22,-1219.9 732.82,-1219.9 732.82,-1103.1 56.22,-1103.1"/>
<text text-anchor="middle" x="394.52" y="-1203.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="394.52" y="-1186.5" font-family="Times,serif" font-size="14.00">IRegisterContract</text>
<text text-anchor="middle" x="394.52" y="-1169.7" font-family="Times,serif" font-size="14.00">contractsIRegisterContract.sol</text>
<polyline fill="none" stroke="black" points="56.22,-1161.5 732.82,-1161.5 "/>
<text text-anchor="start" x="64.22" y="-1144.9" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="64.22" y="-1128.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;registerTicket(_eventId: uint256, _ticketId: uint256, _hashedMessage: bytes32, _r: bytes32, _s: bytes32, _v: uint8)</text>
<text text-anchor="start" x="64.22" y="-1111.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;setTicketContractAddress(_ticketAddress: address)</text>
</g>
<!-- 2 -->
<g id="node2" class="node">
<title>2</title>
<polygon fill="#f2f2f2" stroke="black" points="2445.24,-1019.1 2445.24,-1303.9 2621.8,-1303.9 2621.8,-1019.1 2445.24,-1019.1"/>
<text text-anchor="middle" x="2533.52" y="-1287.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="2533.52" y="-1270.5" font-family="Times,serif" font-size="14.00">ListedTicket</text>
<text text-anchor="middle" x="2533.52" y="-1253.7" font-family="Times,serif" font-size="14.00">contractsIResaleContract.sol</text>
<polyline fill="none" stroke="black" points="2445.24,-1245.5 2621.8,-1245.5 "/>
<text text-anchor="start" x="2453.24" y="-1228.9" font-family="Times,serif" font-size="14.00">listingId: uint256</text>
<text text-anchor="start" x="2453.24" y="-1212.1" font-family="Times,serif" font-size="14.00">listingOwner: address</text>
<text text-anchor="start" x="2453.24" y="-1195.3" font-family="Times,serif" font-size="14.00">listingPrice: uint256</text>
<text text-anchor="start" x="2453.24" y="-1178.5" font-family="Times,serif" font-size="14.00">hasBeenResold: bool</text>
<text text-anchor="start" x="2453.24" y="-1161.7" font-family="Times,serif" font-size="14.00">listedForResale: bool</text>
<text text-anchor="start" x="2453.24" y="-1144.9" font-family="Times,serif" font-size="14.00">tokenId: uint256</text>
<text text-anchor="start" x="2453.24" y="-1128.1" font-family="Times,serif" font-size="14.00">eventId: uint256</text>
<text text-anchor="start" x="2453.24" y="-1111.3" font-family="Times,serif" font-size="14.00">seatNr: uint256</text>
<text text-anchor="start" x="2453.24" y="-1094.5" font-family="Times,serif" font-size="14.00">eventName: string</text>
<text text-anchor="start" x="2453.24" y="-1077.7" font-family="Times,serif" font-size="14.00">eventLocation: string</text>
<text text-anchor="start" x="2453.24" y="-1060.9" font-family="Times,serif" font-size="14.00">eventDate: string</text>
<text text-anchor="start" x="2453.24" y="-1044.1" font-family="Times,serif" font-size="14.00">eventTime: string</text>
<text text-anchor="start" x="2453.24" y="-1027.3" font-family="Times,serif" font-size="14.00">ticketsPrCustomer: uint256</text>
</g>
<!-- 1 -->
<g id="node3" class="node">
<title>1</title>
<polygon fill="#f2f2f2" stroke="black" points="2293.14,-1450.1 2293.14,-1667.7 2657.9,-1667.7 2657.9,-1450.1 2293.14,-1450.1"/>
<text text-anchor="middle" x="2475.52" y="-1651.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="2475.52" y="-1634.3" font-family="Times,serif" font-size="14.00">IResaleContract</text>
<text text-anchor="middle" x="2475.52" y="-1617.5" font-family="Times,serif" font-size="14.00">contractsIResaleContract.sol</text>
<polyline fill="none" stroke="black" points="2293.14,-1609.3 2657.9,-1609.3 "/>
<text text-anchor="start" x="2301.14" y="-1592.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="2301.14" y="-1575.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;listTicketForSale(_ticketId: uint256, _resalePrice: uint256)</text>
<text text-anchor="start" x="2301.14" y="-1559.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getTicketsForResale(): ListedTicket[]</text>
<text text-anchor="start" x="2301.14" y="-1542.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getTicketsListedBySender(): ListedTicket[]</text>
<text text-anchor="start" x="2301.14" y="-1525.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;withdrawFromResaleList(_ticketId: uint256)</text>
<text text-anchor="start" x="2301.14" y="-1508.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;purchaseTicketFromResale(_ticketId: uint256)</text>
<text text-anchor="start" x="2301.14" y="-1491.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;setListingLimit(_limit: uint256)</text>
<text text-anchor="start" x="2301.14" y="-1475.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getListingLimit(): uint256</text>
<text text-anchor="start" x="2301.14" y="-1458.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;setTicketContractAddress(_ticketAddress: address)</text>
</g>
<!-- 2&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>2&#45;&gt;1</title>
<path fill="none" stroke="black" d="M2506.24,-1304.13C2499.43,-1347.89 2492.5,-1395.64 2486.87,-1437.8"/>
<polygon fill="black" stroke="black" points="2486.86,-1437.93 2490.04,-1444.4 2485.28,-1449.82 2482.1,-1443.35 2486.86,-1437.93"/>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2497.47,-1449.82C2504.25,-1408.04 2511.54,-1359.49 2517.84,-1314.32"/>
<polygon fill="black" stroke="black" points="2521.34,-1314.52 2519.25,-1304.13 2514.41,-1313.56 2521.34,-1314.52"/>
</g>
<!-- 4 -->
<g id="node4" class="node">
<title>4</title>
<polygon fill="#f2f2f2" stroke="black" points="1412.02,-1424.9 1412.02,-1692.9 1587.02,-1692.9 1587.02,-1424.9 1412.02,-1424.9"/>
<text text-anchor="middle" x="1499.52" y="-1676.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="1499.52" y="-1659.5" font-family="Times,serif" font-size="14.00">EventVenue</text>
<text text-anchor="middle" x="1499.52" y="-1642.7" font-family="Times,serif" font-size="14.00">contractsITicketContract.sol</text>
<polyline fill="none" stroke="black" points="1412.02,-1634.5 1587.02,-1634.5 "/>
<text text-anchor="start" x="1420.02" y="-1617.9" font-family="Times,serif" font-size="14.00">id: uint256</text>
<text text-anchor="start" x="1420.02" y="-1601.1" font-family="Times,serif" font-size="14.00">eventName: string</text>
<text text-anchor="start" x="1420.02" y="-1584.3" font-family="Times,serif" font-size="14.00">eventDescription: string</text>
<text text-anchor="start" x="1420.02" y="-1567.5" font-family="Times,serif" font-size="14.00">numberOfTickets: uint256</text>
<text text-anchor="start" x="1420.02" y="-1550.7" font-family="Times,serif" font-size="14.00">ticketsLeft: uint256</text>
<text text-anchor="start" x="1420.02" y="-1533.9" font-family="Times,serif" font-size="14.00">eventLocation: string</text>
<text text-anchor="start" x="1420.02" y="-1517.1" font-family="Times,serif" font-size="14.00">eventDate: string</text>
<text text-anchor="start" x="1420.02" y="-1500.3" font-family="Times,serif" font-size="14.00">eventTime: string</text>
<text text-anchor="start" x="1420.02" y="-1483.5" font-family="Times,serif" font-size="14.00">ticketPrice: uint256</text>
<text text-anchor="start" x="1420.02" y="-1466.7" font-family="Times,serif" font-size="14.00">ticketsPrCustomer: uint256</text>
<text text-anchor="start" x="1420.02" y="-1449.9" font-family="Times,serif" font-size="14.00">imageUrl: string</text>
<text text-anchor="start" x="1420.02" y="-1433.1" font-family="Times,serif" font-size="14.00">venueOwner: address</text>
</g>
<!-- 3 -->
<g id="node6" class="node">
<title>3</title>
<polygon fill="#f2f2f2" stroke="black" points="863.6,-935.1 863.6,-1387.9 2135.45,-1387.9 2135.45,-935.1 863.6,-935.1"/>
<text text-anchor="middle" x="1499.52" y="-1371.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="1499.52" y="-1354.5" font-family="Times,serif" font-size="14.00">ITicketContract</text>
<text text-anchor="middle" x="1499.52" y="-1337.7" font-family="Times,serif" font-size="14.00">contractsITicketContract.sol</text>
<polyline fill="none" stroke="black" points="863.6,-1329.5 2135.45,-1329.5 "/>
<text text-anchor="start" x="871.6" y="-1312.9" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="871.6" y="-1296.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;addEvent(_eventName: string, _eventDescription: string, _numberOfTickets: uint256, _eventLocation: string, _eventDate: string, _eventTime: string, _ticketPrice: uint256, _ticketsPrCustomer: uint256, _imageUrl: string)</text>
<text text-anchor="start" x="871.6" y="-1279.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;purchaseTicket(_eventId: uint256, _ticketSeatNumbers: uint256[])</text>
<text text-anchor="start" x="871.6" y="-1262.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;setContractApprovals()</text>
<text text-anchor="start" x="871.6" y="-1245.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;areContractsApproved(): bool</text>
<text text-anchor="start" x="871.6" y="-1228.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;setResaleContract(_resaleAddress: address)</text>
<text text-anchor="start" x="871.6" y="-1212.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;setRegisterContract(_registerAddress: address)</text>
<text text-anchor="start" x="871.6" y="-1195.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getAllEvents(): EventVenue[]</text>
<text text-anchor="start" x="871.6" y="-1178.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getEventById(_eventId: uint256): EventVenue</text>
<text text-anchor="start" x="871.6" y="-1161.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getSenderNFTs(): NFTData[]</text>
<text text-anchor="start" x="871.6" y="-1144.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getSeatsSoldForEvent(_eventId: uint256): uint256[]</text>
<text text-anchor="start" x="871.6" y="-1128.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getCustomerTicketsForEvent(_eventId: uint256): uint256[]</text>
<text text-anchor="start" x="871.6" y="-1111.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;promoteToOrganizer(_address: address)</text>
<text text-anchor="start" x="871.6" y="-1094.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getAccessRole(_account: address): string</text>
<text text-anchor="start" x="871.6" y="-1077.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;withdrawContractFunds()</text>
<text text-anchor="start" x="871.6" y="-1060.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getTicketData(_ticketId: uint256): NFTData</text>
<text text-anchor="start" x="871.6" y="-1044.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getOwnerOfSeat(_eventId: uint256, _seatNr: uint256): address</text>
<text text-anchor="start" x="871.6" y="-1027.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getTotalTicketsPurchasedForEvent(_eventId: uint256, _address: address): uint256</text>
<text text-anchor="start" x="871.6" y="-1010.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;incrementCustomerTicketCount(_eventId: uint256, _address: address)</text>
<text text-anchor="start" x="871.6" y="-993.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;transferTicket(_oldOwner: address, _newOwner: address, _ticketId: uint256)</text>
<text text-anchor="start" x="871.6" y="-976.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;registerTicket(_eventId: uint256, _ticketId: uint256, _hashedMessage: bytes32, _r: bytes32, _s: bytes32, _v: uint8, _organizer: address)</text>
<text text-anchor="start" x="871.6" y="-960.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getTicketUsedStatus(_ticketId: uint256): bool</text>
<text text-anchor="start" x="871.6" y="-943.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;setEventVenueOwner(_eventId: uint256, _owner: address)</text>
</g>
<!-- 4&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>4&#45;&gt;3</title>
<path fill="none" stroke="black" d="M1505.94,-1424.72C1506.03,-1416.67 1506.09,-1408.46 1506.15,-1400.16"/>
<polygon fill="black" stroke="black" points="1506.15,-1399.92 1502.18,-1393.9 1506.21,-1387.92 1510.18,-1393.94 1506.15,-1399.92"/>
</g>
<!-- 5 -->
<g id="node5" class="node">
<title>5</title>
<polygon fill="#f2f2f2" stroke="black" points="1605.02,-1492.1 1605.02,-1625.7 1780.02,-1625.7 1780.02,-1492.1 1605.02,-1492.1"/>
<text text-anchor="middle" x="1692.52" y="-1609.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="1692.52" y="-1592.3" font-family="Times,serif" font-size="14.00">NFTData</text>
<text text-anchor="middle" x="1692.52" y="-1575.5" font-family="Times,serif" font-size="14.00">contractsITicketContract.sol</text>
<polyline fill="none" stroke="black" points="1605.02,-1567.3 1780.02,-1567.3 "/>
<text text-anchor="start" x="1613.02" y="-1550.7" font-family="Times,serif" font-size="14.00">tokenId: uint256</text>
<text text-anchor="start" x="1613.02" y="-1533.9" font-family="Times,serif" font-size="14.00">eventId: uint256</text>
<text text-anchor="start" x="1613.02" y="-1517.1" font-family="Times,serif" font-size="14.00">seatNr: uint256</text>
<text text-anchor="start" x="1613.02" y="-1500.3" font-family="Times,serif" font-size="14.00">usedStatus: bool</text>
</g>
<!-- 5&#45;&gt;3 -->
<g id="edge4" class="edge">
<title>5&#45;&gt;3</title>
<path fill="none" stroke="black" d="M1665.5,-1491.93C1653.3,-1465.36 1637.97,-1432.98 1621.59,-1399"/>
<polygon fill="black" stroke="black" points="1621.46,-1398.73 1615.25,-1395.06 1616.24,-1387.92 1622.45,-1391.58 1621.46,-1398.73"/>
</g>
<!-- 3&#45;&gt;4 -->
<g id="edge5" class="edge">
<title>3&#45;&gt;4</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1492.83,-1387.92C1492.87,-1396.9 1492.93,-1405.79 1493,-1414.54"/>
<polygon fill="black" stroke="black" points="1489.5,-1414.76 1493.1,-1424.72 1496.5,-1414.69 1489.5,-1414.76"/>
</g>
<!-- 3&#45;&gt;5 -->
<g id="edge6" class="edge">
<title>3&#45;&gt;5</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1602.86,-1387.92C1619.66,-1422.04 1636.19,-1455.04 1650.4,-1482.74"/>
<polygon fill="black" stroke="black" points="1647.44,-1484.64 1655.13,-1491.93 1653.67,-1481.43 1647.44,-1484.64"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<polygon fill="#f2f2f2" stroke="black" points="0,-336.5 0,-562.1 789.04,-562.1 789.04,-336.5 0,-336.5"/>
<text text-anchor="middle" x="394.52" y="-545.5" font-family="Times,serif" font-size="14.00">RegisterContract</text>
<text text-anchor="middle" x="394.52" y="-528.7" font-family="Times,serif" font-size="14.00">contractsRegisterContract.sol</text>
<polyline fill="none" stroke="black" points="0,-520.5 789.04,-520.5 "/>
<text text-anchor="start" x="8" y="-503.9" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="8" y="-487.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;_ticketContractAddress: address</text>
<polyline fill="none" stroke="black" points="0,-478.9 789.04,-478.9 "/>
<text text-anchor="start" x="8" y="-462.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="8" y="-445.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;compareStrings(_a: string, _b: string): bool</text>
<text text-anchor="start" x="8" y="-428.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="8" y="-411.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;registerTicket(_eventId: uint256, _ticketId: uint256, _hashedMessage: bytes32, _r: bytes32, _s: bytes32, _v: uint8) &lt;&lt;onlyOrganizer&gt;&gt;</text>
<text text-anchor="start" x="8" y="-395.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setTicketContractAddress(_ticketAddress: address) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="8" y="-378.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="8" y="-361.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOrganizer()</text>
<text text-anchor="start" x="8" y="-344.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 6&#45;&gt;0 -->
<g id="edge7" class="edge">
<title>6&#45;&gt;0</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M394.52,-562.44C394.52,-703.88 394.52,-944.1 394.52,-1072.84"/>
<polygon fill="none" stroke="black" points="384.02,-1073.04 394.52,-1103.04 405.02,-1073.04 384.02,-1073.04"/>
</g>
<!-- 6&#45;&gt;3 -->
<g id="edge8" class="edge">
<title>6&#45;&gt;3</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M471.21,-562.41C544.86,-662.64 664.47,-807.4 798.52,-898.6 816.57,-910.88 835.27,-922.67 854.45,-934"/>
<polygon fill="black" stroke="black" points="852.9,-937.14 863.3,-939.17 856.43,-931.1 852.9,-937.14"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<polygon fill="#f2f2f2" stroke="black" points="2209.45,-269.3 2209.45,-629.3 2625.6,-629.3 2625.6,-269.3 2209.45,-269.3"/>
<text text-anchor="middle" x="2417.52" y="-612.7" font-family="Times,serif" font-size="14.00">ResaleContract</text>
<text text-anchor="middle" x="2417.52" y="-595.9" font-family="Times,serif" font-size="14.00">contractsResaleContract.sol</text>
<polyline fill="none" stroke="black" points="2209.45,-587.7 2625.6,-587.7 "/>
<text text-anchor="start" x="2217.45" y="-571.1" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="2217.45" y="-554.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;_listingIdCounter: uint256</text>
<text text-anchor="start" x="2217.45" y="-537.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;_listingCounter: uint256</text>
<text text-anchor="start" x="2217.45" y="-520.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;_ticketContractAddress: address</text>
<text text-anchor="start" x="2217.45" y="-503.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;_listingLimit: uint256</text>
<text text-anchor="start" x="2217.45" y="-487.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;listingIdToResaleTickets: mapping(uint256=&gt;ListedTicket)</text>
<text text-anchor="start" x="2217.45" y="-470.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;customerListingCount: mapping(address=&gt;uint256)</text>
<polyline fill="none" stroke="black" points="2209.45,-462.1 2625.6,-462.1 "/>
<text text-anchor="start" x="2217.45" y="-445.5" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="2217.45" y="-428.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; purchaseTicketFromResale(_listingId: uint256)</text>
<text text-anchor="start" x="2217.45" y="-411.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;listTicketForSale(_ticketId: uint256, _resalePrice: uint256)</text>
<text text-anchor="start" x="2217.45" y="-395.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getTicketsForResale(): ListedTicket[]</text>
<text text-anchor="start" x="2217.45" y="-378.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getTicketsListedBySender(): ListedTicket[]</text>
<text text-anchor="start" x="2217.45" y="-361.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;withdrawFromResaleList(_listingId: uint256)</text>
<text text-anchor="start" x="2217.45" y="-344.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setListingLimit(_limit: uint256) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="2217.45" y="-327.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getListingLimit(): uint256</text>
<text text-anchor="start" x="2217.45" y="-311.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setTicketContractAddress(_ticketAddress: address) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="2217.45" y="-294.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="2217.45" y="-277.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor()</text>
</g>
<!-- 7&#45;&gt;2 -->
<g id="edge10" class="edge">
<title>7&#45;&gt;2</title>
<path fill="none" stroke="black" d="M2446.79,-629.51C2465.91,-746.59 2490.61,-897.78 2508.76,-1008.87"/>
<polygon fill="black" stroke="black" points="2505.31,-1009.51 2510.38,-1018.82 2512.22,-1008.39 2505.31,-1009.51"/>
</g>
<!-- 7&#45;&gt;1 -->
<g id="edge9" class="edge">
<title>7&#45;&gt;1</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2410.24,-629.61C2405.1,-818.99 2404.02,-1125.9 2436.52,-1388.4 2437.8,-1398.75 2439.45,-1409.4 2441.34,-1420.07"/>
<polygon fill="none" stroke="black" points="2431.13,-1422.56 2447.2,-1449.98 2451.74,-1418.52 2431.13,-1422.56"/>
</g>
<!-- 7&#45;&gt;4 -->
<g id="edge13" class="edge">
<title>7&#45;&gt;4</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2350.83,-629.44C2318.32,-720.17 2279.97,-832.48 2250.52,-934.6 2193.13,-1133.61 2302.47,-1254.42 2144.52,-1388.4 2051.45,-1467.34 1703.39,-1365.46 1596.52,-1424.4 1596.33,-1424.51 1596.13,-1424.62 1595.93,-1424.73"/>
<polygon fill="black" stroke="black" points="1594.02,-1421.79 1587.34,-1430.02 1597.69,-1427.76 1594.02,-1421.79"/>
</g>
<!-- 7&#45;&gt;5 -->
<g id="edge12" class="edge">
<title>7&#45;&gt;5</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2407.57,-629.35C2390.64,-869.5 2348.06,-1278.53 2250.52,-1388.4 2133.13,-1520.63 1916.21,-1551.33 1790.2,-1557.49"/>
<polygon fill="black" stroke="black" points="1790,-1553.99 1780.16,-1557.94 1790.31,-1560.99 1790,-1553.99"/>
</g>
<!-- 7&#45;&gt;3 -->
<g id="edge11" class="edge">
<title>7&#45;&gt;3</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2366.44,-629.31C2332.42,-720.48 2279.23,-826.91 2200.52,-898.6 2182.69,-914.84 2163.75,-930.11 2143.97,-944.45"/>
<polygon fill="black" stroke="black" points="2141.85,-941.66 2135.75,-950.33 2145.92,-947.36 2141.85,-941.66"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<polygon fill="#f2f2f2" stroke="black" points="807.38,-0.5 807.38,-898.1 2191.67,-898.1 2191.67,-0.5 807.38,-0.5"/>
<text text-anchor="middle" x="1499.52" y="-881.5" font-family="Times,serif" font-size="14.00">TicketContract</text>
<text text-anchor="middle" x="1499.52" y="-864.7" font-family="Times,serif" font-size="14.00">contractsTicketContract.sol</text>
<polyline fill="none" stroke="black" points="807.38,-856.5 2191.67,-856.5 "/>
<text text-anchor="start" x="815.38" y="-839.9" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="815.38" y="-823.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;_tokenIdCounter: uint256</text>
<text text-anchor="start" x="815.38" y="-806.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;_eventIdCounter: uint256</text>
<text text-anchor="start" x="815.38" y="-789.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;_resaleContractAddress: address</text>
<text text-anchor="start" x="815.38" y="-772.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;_registerContractAddress: address</text>
<text text-anchor="start" x="815.38" y="-755.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;eventVenues: mapping(uint256=&gt;EventVenue)</text>
<text text-anchor="start" x="815.38" y="-739.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;soldSeatsList: mapping(uint256=&gt;uint256[])</text>
<text text-anchor="start" x="815.38" y="-722.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;customerTicketsPerEvent: mapping(uint256=&gt;mapping(address=&gt;uint256[]))</text>
<text text-anchor="start" x="815.38" y="-705.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;customerTotalSeatsPurchased: mapping(uint256=&gt;mapping(address=&gt;uint256))</text>
<text text-anchor="start" x="815.38" y="-688.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;ticketOwner: mapping(uint256=&gt;mapping(uint256=&gt;address))</text>
<text text-anchor="start" x="815.38" y="-671.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;customerNFTs: mapping(address=&gt;uint256[])</text>
<text text-anchor="start" x="815.38" y="-655.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;tokenIdToNFTData: mapping(uint256=&gt;NFTData)</text>
<text text-anchor="start" x="815.38" y="-638.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="815.38" y="-621.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;ORGANIZER_ROLE: bytes32</text>
<text text-anchor="start" x="815.38" y="-604.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;contractAdmin: address</text>
<polyline fill="none" stroke="black" points="807.38,-596.5 2191.67,-596.5 "/>
<text text-anchor="start" x="815.38" y="-579.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="815.38" y="-563.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeSeatFromArray(_eventId: uint256, _oldOwner: address, _seatNr: uint256)</text>
<text text-anchor="start" x="815.38" y="-546.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeTicketIdFromArray(_oldOwner: address, _ticketId: uint256)</text>
<text text-anchor="start" x="815.38" y="-529.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_update(to: address, tokenId: uint256, auth: address): address</text>
<text text-anchor="start" x="815.38" y="-512.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;verifySignature(_signerAddress: address, _hashedMessage: bytes32, _r: bytes32, _s: bytes32, _v: uint8): bool</text>
<text text-anchor="start" x="815.38" y="-495.9" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="815.38" y="-479.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; purchaseTicket(_eventId: uint256, _ticketSeatNumbers: uint256[])</text>
<text text-anchor="start" x="815.38" y="-462.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addEvent(_eventName: string, _eventDescription: string, _numberOfTickets: uint256, _eventLocation: string, _eventDate: string, _eventTime: string, _ticketPrice: uint256, _ticketsPrCustomer: uint256, _imageUrl: string) &lt;&lt;onlyOrganizer&gt;&gt;</text>
<text text-anchor="start" x="815.38" y="-445.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setContractApprovals()</text>
<text text-anchor="start" x="815.38" y="-428.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;areContractsApproved(): bool</text>
<text text-anchor="start" x="815.38" y="-411.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setResaleContract(_resaleAddress: address) &lt;&lt;onlyAdmin&gt;&gt;</text>
<text text-anchor="start" x="815.38" y="-395.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setRegisterContract(_registerAddress: address) &lt;&lt;onlyAdmin&gt;&gt;</text>
<text text-anchor="start" x="815.38" y="-378.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getAllEvents(): EventVenue[]</text>
<text text-anchor="start" x="815.38" y="-361.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getEventById(_eventId: uint256): EventVenue</text>
<text text-anchor="start" x="815.38" y="-344.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getSenderNFTs(): NFTData[]</text>
<text text-anchor="start" x="815.38" y="-327.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getSeatsSoldForEvent(_eventId: uint256): uint256[]</text>
<text text-anchor="start" x="815.38" y="-311.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getCustomerTicketsForEvent(_eventId: uint256): uint256[]</text>
<text text-anchor="start" x="815.38" y="-294.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;promoteToOrganizer(_address: address) &lt;&lt;onlyAdmin&gt;&gt;</text>
<text text-anchor="start" x="815.38" y="-277.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getAccessRole(_account: address): string</text>
<text text-anchor="start" x="815.38" y="-260.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;withdrawContractFunds() &lt;&lt;onlyAdmin&gt;&gt;</text>
<text text-anchor="start" x="815.38" y="-243.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getTicketData(_ticketId: uint256): NFTData &lt;&lt;onlyResaleContract&gt;&gt;</text>
<text text-anchor="start" x="815.38" y="-227.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getOwnerOfSeat(_eventId: uint256, _seatNr: uint256): address &lt;&lt;onlyOrganizer&gt;&gt;</text>
<text text-anchor="start" x="815.38" y="-210.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getTotalTicketsPurchasedForEvent(_eventId: uint256, _address: address): uint256 &lt;&lt;onlyResaleContract&gt;&gt;</text>
<text text-anchor="start" x="815.38" y="-193.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;transferTicket(_oldOwner: address, _newOwner: address, _ticketId: uint256) &lt;&lt;onlyResaleContract&gt;&gt;</text>
<text text-anchor="start" x="815.38" y="-176.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;registerTicket(_eventId: uint256, _ticketId: uint256, _hashedMessage: bytes32, _r: bytes32, _s: bytes32, _v: uint8, _organizer: address) &lt;&lt;onlyRegisterContract&gt;&gt;</text>
<text text-anchor="start" x="815.38" y="-159.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getTicketUsedStatus(_ticketId: uint256): bool &lt;&lt;onlyOrganizer&gt;&gt;</text>
<text text-anchor="start" x="815.38" y="-143.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setEventVenueOwner(_eventId: uint256, _owner: address) &lt;&lt;onlyAdmin&gt;&gt;</text>
<text text-anchor="start" x="815.38" y="-126.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="815.38" y="-109.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOrganizer()</text>
<text text-anchor="start" x="815.38" y="-92.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyAdmin()</text>
<text text-anchor="start" x="815.38" y="-75.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyResaleContract()</text>
<text text-anchor="start" x="815.38" y="-59.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyRegisterContract()</text>
<text text-anchor="start" x="815.38" y="-42.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor(_name: string, _symbol: string)</text>
<text text-anchor="start" x="815.38" y="-25.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;supportsInterface(interfaceId: bytes4): bool</text>
<text text-anchor="start" x="815.38" y="-8.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;incrementCustomerTicketCount(_eventId: uint256, _address: address) &lt;&lt;onlyResaleContract&gt;&gt;</text>
</g>
<!-- 8&#45;&gt;4 -->
<g id="edge15" class="edge">
<title>8&#45;&gt;4</title>
<path fill="none" stroke="black" d="M874.47,-898.19C867.37,-910.09 860.7,-922.23 854.52,-934.6 764.37,-1115.02 731.36,-1228.69 854.52,-1388.4 921.05,-1474.67 1238.31,-1525.7 1401.72,-1546.68"/>
<polygon fill="black" stroke="black" points="1401.42,-1550.17 1411.78,-1547.96 1402.3,-1543.23 1401.42,-1550.17"/>
</g>
<!-- 8&#45;&gt;5 -->
<g id="edge16" class="edge">
<title>8&#45;&gt;5</title>
<path fill="none" stroke="black" d="M2124.58,-898.19C2131.68,-910.09 2138.34,-922.23 2144.52,-934.6 2234.67,-1115.02 2259.4,-1222.63 2144.52,-1388.4 2064.98,-1503.18 1897.49,-1540.35 1790.25,-1552.32"/>
<polygon fill="black" stroke="black" points="1789.63,-1548.86 1780.06,-1553.4 1790.37,-1555.82 1789.63,-1548.86"/>
</g>
<!-- 8&#45;&gt;3 -->
<g id="edge14" class="edge">
<title>8&#45;&gt;3</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1499.52,-898.32C1499.52,-900.43 1499.52,-902.55 1499.52,-904.65"/>
<polygon fill="none" stroke="black" points="1489.02,-904.72 1499.52,-934.72 1510.02,-904.72 1489.02,-904.72"/>
</g>
</g>
</svg>
